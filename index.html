<!DOCTYPE html>
<html lang="fr">
<head>
        <title>Programming Language Benchmarks</title>
</head>
<body>
        <h1>Python</h1>
        <p>Cliquez sur le bouton pour executer le programme en Python</p>
            <button id="btn-execute_python">Executer python</button>
        <p></p>
        <a id="link-download_python" href="" download="map.txt">map.txt_python</a>
        <p></p>
        <a id="link-download-result_python" href="" download="calcul_result.txt">calcul_resul.txt_python</a>



        <h1>Java</h1>
        <p>Cliquez sur le bouton pour executer le programme en Java </p>
            <button id="btn-execute_java">Executer Java</button>


        <p>Fichier map.txt genere :</p>
        <a id="link-download_java" href="" download="map.txt">Telecharger</a>

        <p>Fichier calcul_result.txt genere :</p>
        <a id="link-download-result_Java" href="" download="calcul_result.txt">Telecharger</a>

        <script type="text/javascript">
                const btnExecute = document.getElementById('btn-execute_python');
                const linkDownload = document.getElementById('link-download_python');
                const linkDownloadResult = document.getElementById('link-download-result_python');

                btnExecute.addEventListener('click', async () => {
                    try {
                        for (let i = 0; i < 100; i++) {
                                const response1 = await fetch('http://172.16.104.95/cgi-bin/Python/map.py', {
                                method: 'POST'
                                });
                                const text1 = await response1.text();


                                const response2 = await fetch('http://172.16.104.95/cgi-bin/Python/calcul.py', {
                                        method: 'POST'
                                });
                                const text2 = await response2.text();

                                const blob = new Blob([text1], { type: 'text/plain' });
                                linkDownload.href = URL.createObjectURL(blob);
                                linkDownload.style.display = 'block';


                                const blobMap = new Blob([text2], { type: 'text/plain' });
                                linkDownloadResult.href = URL.createObjectURL(blobMap);
                                linkDownloadResult.style.display = 'block';
                        }
                    } catch (err) {
                        console.error(err);
                    }
                });


                const btnExecuteJava = document.getElementById('btn-execute_java');
                const linkDownloadJava = document.getElementById('link-download_java');
                const linkDownloadResultJava = document.getElementById('link-download-result_Java');

                btnExecuteJava.addEventListener('click', async () => {
                  try {
                    const response1 = await fetch('http://172.16.104.95/cgi-bin/java/script_map.sh', {
                      method: 'POST'
                    });
                    const text1 = await response1.text();


                    const blob = new Blob([text1], { type: 'text/plain' });
                    linkDownloadJava.href = URL.createObjectURL(blob);
                    linkDownloadJava.style.display = 'block';

                    const blobMap = new Blob([text2], { type: 'text/plain' });
                    linkDownloadResultJava.href = URL.createObjectURL(blobMap);
                    linkDownloadResultJava.style.display = 'block';

                  } catch (err) {
                    console.error(err);
                  }
                });


        </script>

</body>
</html>